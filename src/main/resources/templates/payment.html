<!DOCTYPE html>
<html lang="ko"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/layout/my-books-layout}">
<div layout:fragment="customSetting">
    <link
            rel="icon"
            href="https://static.toss.im/icons/png/4x/icon-toss-logo.png"
    />
    <link rel="stylesheet" type="text/css" href="/style.css"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>토스페이먼츠 샘플 프로젝트</title>
    <!-- 결제위젯 SDK 추가 -->
    <script src="https://js.tosspayments.com/v1/payment-widget"></script>
</div>

<div layout:fragment="content">
    <div class="container">
        <div class="row justify-content-center">

            <section>
                <h3>결제 정보</h3>
                <div>
                    <h5>주문 번호</h5>
                    <span th:text="${orderInfo.number}"></span>
                    <h5>결제 금액</h5>
                    <span th:text="${orderInfo.totalCost}"></span>
                    <input th:value="${orderInfo.number}" type="hidden"
                           id="order-number">
                    <input th:value="${orderInfo.totalCost}" type="hidden"
                           id="order-total-cost">
                </div>


            </section>


            <div class="wrapper">
                <div
                        class="box_section"
                        style="
          padding: 40px 30px 50px 30px;
          margin-top: 30px;
          margin-bottom: 50px;
        ">
                    <input class="toss" th:value="${tossValue}" type="hidden">
                    <!-- 결제 UI -->
                    <div id="payment-method"></div>
                    <!-- 이용약관 UI -->
                    <div id="agreement"></div>
                    <!-- 쿠폰 체크박스 -->
                    <div th:if="${isCouponUsed == false}">
                        <div style="padding-left: 25px">
                            <div class="checkable typography--p">
                                <button type="button" id="all-book-coupon-button">
                                    전체 쿠폰 적용
                                </button>

                            </div>
                        </div>
                    </div>
                    <!-- 결제하기 버튼 -->
                    <div class="result wrapper">
                        <button class="button" id="payment-button" style="margin-top: 30px">
                            결제하기
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <script src="/assets/js/payment/payment.js"></script>
    </div>
</div>
</html>